# 海外好医生项目 API

> **修订记录**

| 版本 |    时间   |  人员  |           内容           |
|------|-----------|--------|--------------------------|
| V1.0 | 2017.2.15 | 王凤鸣 | 创建文档                 |
| v1.1 | 2017.2.17 | 王凤鸣 | 调整缩减接口             |
| v1.2 | 2017.2.22 | 王凤鸣 | 调整接口的细节和标准约定 |

<!-- MarkdownTOC depth="5" autoanchor="true" autolink="true" bracket="round" -->

- [1. 设计说明](#1-设计说明)
  - [1.1. 协议格式](#11-协议格式)
  - [1.2. URL格式](#12-url格式)
  - [1.3. HTTP动词](#13-http动词)
  - [1.4. 响应状态码](#14-响应状态码)
  - [1.5. 错误处理](#15-错误处理)
  - [1.6. 验证授权](#16-验证授权)
    - [1.6.1. `access_token`获取](#161-accesstoken获取)
    - [1.6.2. `access_token`更新](#162-accesstoken更新)
    - [1.6.3. `access_token`使用](#163-accesstoken使用)
  - [1.7. 日期格式标准](#17-日期格式标准)
  - [1.8. json格式中特殊字符转译](#18-json格式中特殊字符转译)
- [2. 接口说明](#2-接口说明)
  - [2.1. 系统操作](#21-系统操作)
    - [2.1.1. Ping](#211-ping)
  - [2.2. 功能接口](#22-功能接口)
    - [2.2.1. 医生相关接口](#221-医生相关接口)
      - [2.2.1.1. 获取医生列表](#2211-获取医生列表)
      - [2.2.1.2. 获取医生详情](#2212-获取医生详情)
      - [2.2.1.3. 获取科室列表](#2213-获取科室列表)
    - [2.2.2. 药品相关接口](#222-药品相关接口)
      - [2.2.2.1. 获取药品列表](#2221-获取药品列表)
      - [2.2.2.2. 获取药品详情](#2222-获取药品详情)
    - [2.2.3. 医院相关接口](#223-医院相关接口)
      - [2.2.3.1. 获取医院列表](#2231-获取医院列表)
      - [2.2.3.2. 获取医院详情](#2232-获取医院详情)
    - [2.2.4. 体验店相关接口](#224-体验店相关接口)
      - [2.2.4.1. 获取体验店列表](#2241-获取体验店列表)
      - [2.2.4.2. 获取体验店详情](#2242-获取体验店详情)
    - [2.2.5. 用户评价相关接口](#225-用户评价相关接口)
      - [2.2.5.1. 获取医生/体验店评价列表](#2251-获取医生体验店评价列表)
      - [2.2.5.2. 添加医生/体验店评价](#2252-添加医生体验店评价)
    - [2.2.6. 用户预约订单相关接口](#226-用户预约订单相关接口)
      - [2.2.6.1. 医生预约](#2261-医生预约)
        - [2.2.6.1.1. 获取医生可预约时间](#22611-获取医生可预约时间)
        - [2.2.6.1.2. 添加医生预约订单](#22612-添加医生预约订单)
        - [2.2.6.1.3. 医生预约订单修改](#22613-医生预约订单修改)
        - [2.2.6.1.4. 获取医生预约列表](#22614-获取医生预约列表)
        - [2.2.6.1.5. 获取医生预约信息](#22615-获取医生预约信息)
      - [2.2.6.2. 药品订单](#2262-药品订单)
        - [2.2.6.2.1. 添加药品订单](#22621-添加药品订单)
        - [2.2.6.2.2. 药品订单修改](#22622-药品订单修改)
        - [2.2.6.2.3. 获取药品订单列表](#22623-获取药品订单列表)
        - [2.2.6.2.4. 获取药品订单信息](#22624-获取药品订单信息)
      - [2.2.6.3. 体验店预约](#2263-体验店预约)
        - [2.2.6.3.1. 添加体验店预约订单](#22631-添加体验店预约订单)
        - [2.2.6.2.3. 获取体验店预约订单列表](#22623-获取体验店预约订单列表)
    - [2.2.7. 用户个人中心相关接口](#227-用户个人中心相关接口)
      - [2.2.7.1. 用户注册](#2271-用户注册)
      - [2.2.7.2. 查看用户信息](#2272-查看用户信息)
      - [2.2.7.3. 修改用户信息](#2273-修改用户信息)
      - [2.2.7.4. 用户消息列表](#2274-用户消息列表)
      - [2.2.7.5. 消息详情](#2275-消息详情)
      - [2.2.7.6. 更新消息状态](#2276-更新消息状态)
      - [2.2.7.7. 获取健康履历列表](#2277-获取健康履历列表)
      - [2.2.7.8. 获取诊断记录列表](#2278-获取诊断记录列表)
      - [2.2.7.9. 意见反馈](#2279-意见反馈)
- [3. 类型字段说明](#3-类型字段说明)
  - [3.1. 医生信息：doctors](#31-医生信息：doctors)
  - [3.2. 用户评价：appraise](#32-用户评价：appraise)
  - [3.3. 药品信息：medicines](#33-药品信息：medicines)
  - [3.4. 医院信息：hospitals](#34-医院信息：hospitals)
  - [3.5. 体验店信息：clubs](#35-体验店信息：clubs)
  - [3.6. 预约医生订单信息：doctor_orders](#36-预约医生订单信息：doctororders)
  - [3.7. 药品订单信息：medicine_orders](#37-药品订单信息：medicineorders)
  - [3.8. 预约体验店订单信息：club_orders](#38-预约体验店订单信息：cluborders)
  - [3.9. 用户信息：users](#39-用户信息：users)
  - [3.10. 用户消息：messages](#310-用户消息：messages)
  - [3.11. 健康履历：health_records](#311-健康履历：healthrecords)
  - [3.12. 诊断记录：diagnose_records](#312-诊断记录：diagnoserecords)
  - [3.13. 科室列表：departments](#313-科室列表：departments)

<!-- /MarkdownTOC -->


<a name="1-设计说明"></a>
## 1. 设计说明

<a name="11-协议格式"></a>
### 1.1. 协议格式

`海外好医生项目 API`使用`HTTP`或`HTTPS`协议，消息内容使用`JSON`格式。`HTTP`头中应包含：

```
Content-Type: "application/json"
```

<a name="12-url格式"></a>
### 1.2. URL格式

`海外好医生项目 API`的通用URL格式为：

    http(s)://<server_address>:<server_port>/api/<api_version>/...

例如：

```
http://xxxx.xxx.cn/api/v1/doctors
https://xxxx.xxx.cn:80/api/v2/club
```

<a name="13-http动词"></a>
### 1.3. HTTP动词

* 考虑到调用`海外好医生项目 API`的程序编写的方便性，只选取采用`GET`和`POST`两种HTTP访问方式。

<a name="14-响应状态码"></a>
### 1.4. 响应状态码

* 考虑到调用`海外好医生项目 API`的程序编写的方便性，决定只要HTTP请求能够访问通过，无论是增删改查操作还是应用程序处理错误都返回状态码`200`。

<a name="15-错误处理"></a>
### 1.5. 错误处理

如果`HTTP`请求错误时，就应该向客户端返回错误信息。返回的信息中包含错误码和错误信息。
例如：

```http
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "error_code" : 50000,
  "error_msg" : "请求处理的业务逻辑发生错误"
}
```

调用接口发生错误时，开发者可以根据错误码信息排查错误。

`Ftrans REST API`全局错误码如下：

| 错误码  |            说明            |
|---------|----------------------------|
| `-1`    | 系统错误                   |
| `40001` | `access_token`无效         |
| `40002` | 请求对象不存在             |
| `40003` | 数据创建或修改失败         |
| `40004` | 数据删除失败               |
| `40005` | 用户名密码验证错误         |
| `40006` | 创建的对象已存在           |
| `41000` | 请求的应用级输入参数错误   |
| `50000` | 请求处理的业务逻辑发生错误 |

<a name="16-验证授权"></a>
### 1.6. 验证授权

`海外好医生项目 API`采用`OAuth 2.0`的“密码模式” (resource owner password credentials) 对第三方应用进行授权。

```
 +----------+
 | Resource |
 |  Owner   |
 |          |
 +----------+
      v
      |    Resource Owner
     (A) Password Credentials
      |
      v
 +---------+                                  +---------------+
 |         |>--(B)---- Resource Owner ------->|               |
 |         |         Password Credentials     | Authorization |
 | Client  |                                  |     Server    |
 |         |<--(C)---- Access Token ---------<|               |
 |         |    (w/ Optional Refresh Token)   |               |
 +---------+                                  +---------------+
```

<a name="161-accesstoken获取"></a>
#### 1.6.1. `access_token`获取

* 路径：`api/token`
* 请求头：`Content-Type: application/x-www-form-urlencoded`
* 请求方式：`POST`
* 请求参数：

|     名称     |  类型  | 必须 |                 说明                 |
|--------------|--------|------|--------------------------------------|
| `grant_type` | string | 是   | 授权类型，此处的值固定为"`password`" |
| `username`   | string | 是   | 用户名                               |
| `password`   | string | 是   | 用户的密码                           |
| `scope`      | string | 否   | 权限范围                             |

* 请求示例

```http
POST /token HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

grant_type=password&username=johndoe&password=A3ddj3w
```

* 响应参数：

|       名称      |  类型  | 必须 |            说明           |
|-----------------|--------|------|---------------------------|
| `access_token`  | string | 是   | 访问token                 |
| `token_type`    | string | 是   | token类型                 |
| `expires_in`    | number | 是   | 时效，默认：86400(24小时) |
| `refresh_token` | string | 是   | 刷新token                 |

* 响应示例：

```http
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Pragma: no-cache

{
  "access_token": "2YotnFZFEjr1zCsicMWpAA",
  "token_type": "bearer",
  "expires_in": 86400,
  "refresh_token": "tGzv3JOkF0XG5Qx2TlKWIA"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="162-accesstoken更新"></a>
#### 1.6.2. `access_token`更新

* 路径：`api/token`
* 请求头：`Content-Type: application/x-www-form-urlencoded`
* 请求方式：`POST`
* 请求参数：

|       名称      |  类型  | 必须 |                    说明                   |
|-----------------|--------|------|-------------------------------------------|
| `grant_type`    | string | 是   | 授权类型，此处的值固定为"`refresh_token`" |
| `refresh_token` | string | 是   | 刷新的token                               |

* 请求示例

```http
POST /token HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&refresh_token=tGzv3JOkF0XG5Qx2TlKWIA
```

* 响应参数：

|       名称      |  类型  | 必须 |    说明   |
|-----------------|--------|------|-----------|
| `access_token`  | string | 是   | 访问token |
| `token_type`    | string | 是   | token类型 |
| `expires_in`    | string | 是   | 时效      |
| `refresh_token` | string | 是   | 刷新token |

* 响应示例：

```http
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Pragma: no-cache

{
  "access_token": "2YotnFZFEjr1zCsicMWpAA",
  "token_type": "bearer",
  "expires_in": 3600,
  "refresh_token": "tGzv3JOkF0XG5Qx2TlKWIA"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |


<a name="163-accesstoken使用"></a>
#### 1.6.3. `access_token`使用

在请求需要授权验证的API时，在请求头加入：

```http
POST /token HTTP/1.1
Host: server.example.com
Authorization: Bearer [access_token]
```

<a name="17-日期格式标准"></a>
### 1.7. 日期格式标准

|  类型说明  |    类型    |         示例         |
|------------|------------|----------------------|
| `日期`     | `date`     | 2017-02-09           |
| `时间`     | `time`     | 14:31:22+0800        |
| `具体时间` | `datetime` | 2017-02-09T06:31:22Z |

<a name="18-json格式中特殊字符转译"></a>
### 1.8. json格式中特殊字符转译

| 特殊字符 |   类型   |
|----------|----------|
| `>`      | `&gt;`   |
| `<`      | `&lt;`   |
| `"`      | `&quot;` |
| `'`      | `&#39;`  |
| `\`      | `\\`     |
| `\n`     | `\\n`    |
| `\r`     | `\\r`    |

<a name="2-接口说明"></a>
## 2. 接口说明

`海外好医生项目 API`分为两种类型：

* 公共接口：该类接口可以直接通过url访问获取数据。
* 私有接口：该类接口在调用时必须要有有效的`access_token`，才能获取数据或提交修改数据。

<a name="21-系统操作"></a>
### 2.1. 系统操作

<a name="211-ping"></a>
#### 2.1.1. Ping

* 路径：`system/ping`
* 请求方式：`GET`
* 请求参数：无
* 响应参数：无

<a name="22-功能接口"></a>
### 2.2. 功能接口

<a name="221-医生相关接口"></a>
#### 2.2.1. 医生相关接口

<a name="2211-获取医生列表"></a>
##### 2.2.1.1. 获取医生列表

* 接口类型：公共接口
* 路径：`doctor/list`
* 请求方式：`POST`
* 请求参数：

|          名称          |  类型  | 必须 | 默认 |                             说明                            |
|------------------------|--------|------|------|-------------------------------------------------------------|
| `order_by`             | string | 否   | cost | 排序列 [`name` / `create_time` / `cost`]                    |
| `order_type`           | string | 否   | desc | 排序方式 [`asc` / `desc`]                                   |
| `page_index`           | number | 否   | 1    | 页码（从1开始计算）                                         |
| `page_size`            | number | 否   | 3    | 每页条数                                                    |
| `filter_keyword`       | string | 否   | null | 过滤条件关键字[`<department>` / `<doctor_name>` / `<tag>` ] |
| `filter_category`      | string | 否   | null | 过滤条件类别[`inland`(国内专家) / `overseas`(海外名医)]     |
| `filter_department_id` | string | 否   | null | 过滤条件科目id                                              |

* 请求示例：

```json
{
  "order_by" : "cost",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 3
}
```

* 响应参数：

|      名称     |                类型                | 必须 |   说明   |
|---------------|------------------------------------|------|----------|
| `total_count` | number                             | 是   | 总共条数 |
| `items`       | [doctors](#31-医生信息：doctors)[] | 是   | 医生列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "name": "张三",
      "department": "脑科",
      "position": "主任医师",
      "hospital": "XXXXXXXX医院",
      "photo": "http://xxxx/xxxxx/xxxx.jpg",
      "introduce":"xxxxxxxxxxxx",
      "cost": 350,
      "category":"inland",
      "tags":["头痛","心绞痛"],
      "create_time":"2017-02-11T12:12:12Z"
      ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2212-获取医生详情"></a>
##### 2.2.1.2. 获取医生详情

* 接口类型：公共接口
* 路径：`doctor/<id>`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[doctors](#31-医生信息：doctors)
* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "name": "张三",
  "department": "脑科",
  "position": "主任医师",
  "hospital": "XXXXXXXX医院",
  "photo": "http://xxxx/xxxxx/xxxx.jpg",
  "introduce":"xxxxxxxxxxxx",
  "cost": 350,
  "category":"inland",
  "tags":["头痛","心绞痛"],
  "create_time":"2017-02-11T12:12:12Z"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2213-获取科室列表"></a>
##### 2.2.1.3. 获取科室列表

* 接口类型：公共接口
* 路径：`department/list`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：

|      名称     |                类型               | 必须 |   说明   |
|---------------|-----------------------------------|------|----------|
| `total_count` | number                            | 是   | 总共条数 |
| `items`       | [departments](#313-departments)[] | 是   | 科室列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "name": "脑科",
      "create_time":"2017-02-11T12:12:12Z"
      ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="222-药品相关接口"></a>
#### 2.2.2. 药品相关接口

<a name="2221-获取药品列表"></a>
##### 2.2.2.1. 获取药品列表

* 接口类型：公共接口
* 路径：`medicine/list`
* 请求方式：`POST`
* 请求参数：

|     名称     |  类型  | 必须 |  默认 |                    说明                   |
|--------------|--------|------|-------|-------------------------------------------|
| `order_by`   | string | 否   | price | 排序列 [`name` / `create_time` / `price`] |
| `order_type` | string | 否   | desc  | 排序方式 [`asc` / `desc`]                 |
| `page_index` | number | 否   | 1     | 页码（从1开始计算）                       |
| `page_size`  | number | 否   | 3     | 每页条数                                  |

* 请求示例：

```json
{
  "order_by" : "price",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 3
}
```

* 响应参数：

|      名称     |                  类型                  | 必须 |   说明   |
|---------------|----------------------------------------|------|----------|
| `total_count` | number                                 | 是   | 总共条数 |
| `items`       | [medicines](#33-药品信息：medicines)[] | 是   | 药品列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "name": "吗丁啉",
      "picture": "http://xxxx/xxxxx/xxxx.jpg",
      "price":300,
      "description":"xxxxxxxxxxxxxxxxxxxxx",
      "dispatch_place":"日本",
      "details":"http://xxxx/xxxxx/xxxx.jpg",
      "telephone":"02512345678",
      "create_time":"2017-02-11T12:12:12Z"
      ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2222-获取药品详情"></a>
##### 2.2.2.2. 获取药品详情

* 接口类型：公共接口
* 路径：`medicine/<id>`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[medicines](#33-药品信息：medicines)
* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "name": "吗丁啉",
  "picture": "http://xxxx/xxxxx/xxxx.jpg",
  "price":300,
  "description":"xxxxxxxxxxxxxxxxxxxxx",
  "dispatch_place":"日本",
  "details":"http://xxxx/xxxxx/xxxx.jpg",
  "telephone":"02512345678"
  "create_time":"2017-02-11T12:12:12Z"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="223-医院相关接口"></a>
#### 2.2.3. 医院相关接口

<a name="2231-获取医院列表"></a>
##### 2.2.3.1. 获取医院列表

* 接口类型：公共接口
* 路径：`hospital/list`
* 请求方式：`POST`
* 请求参数：

|        名称       |  类型  | 必须 |     默认    |                                  说明                                 |
|-------------------|--------|------|-------------|-----------------------------------------------------------------------|
| `order_by`        | string | 否   | create_time | 排序列 [`name` / `create_time`]                                       |
| `order_type`      | string | 否   | desc        | 排序方式 [`asc` / `desc`]                                             |
| `page_index`      | number | 否   | 1           | 页码（从1开始计算）                                                   |
| `page_size`       | number | 否   | 3           | 每页条数                                                              |
| `filter_category` | string | 否   | null        | 过滤条件医院类别[`cure`(治疗) / `experience`(体验) / `prevent`(预防)] |

* 请求示例：

```json
{
  "order_by" : "price",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 3,
  "filter_category":"cure"
}
```

* 响应参数：

|      名称     |                  类型                  | 必须 |   说明   |
|---------------|----------------------------------------|------|----------|
| `total_count` | number                                 | 是   | 总共条数 |
| `items`       | [hospitals](#34-医院信息：hospitals)[] | 是   | 医院列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "name": "XXXX医院",
      "route": "地点：xxxxxxx，乘坐x路公交车至xxxx站下。",
      "notice": "用户须知",
      "picture": "xxxx/xxxxx/xxxx.jpg",
      "telephone":"025888888888",
      "category":"cure",
      "user_id":"5a77720b-12ef-c32c-1a0b-39d5b1adc577",
      "user_name":"18912341524",
      "create_time":"2017-02-11T12:12:12Z"
      ...
    },
    ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2232-获取医院详情"></a>
##### 2.2.3.2. 获取医院详情

* 接口类型：公共接口
* 路径：`hospital/<id>`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[hospitals](#34-医院信息：hospitals)
* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "name": "XXXX医院",
  "route": "地点：xxxxxxx，乘坐x路公交车至xxxx站下。",
  "notice": "用户须知",
  "picture": "xxxx/xxxxx/xxxx.jpg",
  "telephone":"025888888888",  
  "category":"cure",
  "user_id":"5a77720b-12ef-c32c-1a0b-39d5b1adc577",
  "user_name":"18912341524",
  "create_time":"2017-02-11T12:12:12Z"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="224-体验店相关接口"></a>
#### 2.2.4. 体验店相关接口

<a name="2241-获取体验店列表"></a>
##### 2.2.4.1. 获取体验店列表

* 接口类型：公共接口
* 路径：`club/list`
* 请求方式：`POST`
* 请求参数：

|        名称        |  类型  | 必须 |     默认    |               说明              |
|--------------------|--------|------|-------------|---------------------------------|
| `order_by`         | string | 否   | create_time | 排序列 [`name` / `create_time`] |
| `order_type`       | string | 否   | desc        | 排序方式 [`asc` / `desc`]       |
| `filter_name`      | string | 否   | null        | 体验店名称                      |
| `filter_longitude` | number | 否   | null        | 经度                            |
| `filter_latitude`  | number | 否   | null        | 纬度                            |
| `filter_distance`  | number | 否   | 20000       | 距离                            |


* 请求示例：

```json
{
  "order_by" : "price",
  "order_type" : "desc",
  "filter_longitude":47.8,
  "filter_latitude":50.3,
  "filter_distance":20000
}
```

* 响应参数：

|      名称     |               类型               | 必须 |   说明   |
|---------------|----------------------------------|------|----------|
| `total_count` | number                           | 是   | 总共条数 |
| `items`       | [clubs](#35-体验店信息：clubs)[] | 是   | 医院列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "name": "xxxxx会所",
      "picture": "http://xxxx/xxxxx/xxxx.jpg",
      "address": "xxxx市xxxx区xxxx号",
      "telephone": "02512345786",
      "service":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
      "project":["血压测试","康复治疗"],
      "longitude": 56.7,
      "latitude": 78.5,
      "create_time":"2017-02-11T12:12:12Z"
      ...
    },
    ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2242-获取体验店详情"></a>
##### 2.2.4.2. 获取体验店详情

* 接口类型：公共接口
* 路径：`club/<id>`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[clubs](#35-体验店信息：clubs)
* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "name": "xxxxx会所",
  "picture": "http://xxxx/xxxxx/xxxx.jpg",
  "address": "xxxx市xxxx区xxxx号",
  "telephone": "02512345786",
  "service":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  "project":["血压测试","康复治疗"],
  "longitude": 56.7,
  "latitude": 78.5,
  "create_time":"2017-02-11T12:12:12Z"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="225-用户评价相关接口"></a>
#### 2.2.5. 用户评价相关接口 	

<a name="2251-获取医生体验店评价列表"></a>
##### 2.2.5.1. 获取医生/体验店评价列表

* 接口类型：公共接口
* 路径：`appraise/list`
* 请求方式：`POST`
* 请求参数：

|        名称        |  类型  | 必须 |      默认     |                           说明                          |
|--------------------|--------|------|---------------|---------------------------------------------------------|
| `order_by`         | string | 否   | appraise_time | 排序列 [`user_name` / `appraise_time` / `satisfaction`] |
| `order_type`       | string | 否   | desc          | 排序方式 [`asc` / `desc`]                               |
| `page_index`       | number | 否   | 1             | 页码（从1开始计算）                                     |
| `page_size`        | number | 否   | 3             | 每页条数                                                |
| `filter_doctor_id` | string | 是   |               | 过滤条件关联id(医生或体验店id)                          |
| `filter_category`  | string | 是   | doctor/club   | 过滤条件类别[`doctor`(医生)/`club`(体验店)]             |

* 请求示例：

```json
{
  "order_by" : "cost",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 3,
  "filter_relate_id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "filter_category":"doctor"
}
```

* 响应参数：

|          名称          |                 类型                 | 必须 |   说明   |
|------------------------|--------------------------------------|------|----------|
| `total_count`          | number                               | 是   | 总共条数 |
| `very_satisfied_count` | number                               | 是   | 很满意数 |
| `satisfied_count`      | number                               | 是   | 满意数   |
| `normal_count`         | number                               | 是   | 一般数   |
| `items`                | [appraise](#32-用户评价：appraise)[] | 是   | 评价列表 |

* 响应示例：

```json
{
  "total_count": 100,
  "very_satisfied_count":50,
  "satisfied_count":30,
  "normal_count":20,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "user_name": "189*****234",
      "appraise_time": "2017-01-02T12:12:12Z",
      "content": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
      "satisfaction":3,
      "category":"doctor"
      ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2252-添加医生体验店评价"></a>
##### 2.2.5.2. 添加医生/体验店评价

* 接口类型：私有接口
* 路径：`appraise/create`
* 请求方式：`POST`
* 请求参数：

|    名称    |                类型                | 必须 | 默认 | 说明 |
|------------|------------------------------------|------|------|------|
| `appraise` | [appraise](#32-用户评价：appraise) | 是   |      | 评价 |

* 请求示例：

```json
{
  "appraise": 
  {
    "id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "appraise_time": "2017-01-02 12:12:12",
    "content": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "satisfaction":3,
    "category":"doctor"
  }
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 评价id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "提交评价成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="226-用户预约订单相关接口"></a>
#### 2.2.6. 用户预约订单相关接口 	

<a name="2261-医生预约"></a>
##### 2.2.6.1. 医生预约 

<a name="22611-获取医生可预约时间"></a>
###### 2.2.6.1.1. 获取医生可预约时间 

* 接口类型：公共接口
* 路径：`doctor_order/order_date`
* 请求方式：`POST`
* 请求参数：

|     名称    |  类型  | 必须 | 默认 |   说明   |
|-------------|--------|------|------|----------|
| `doctor_id` | string | 是   |      | 医生编号 |

* 请求示例：

```json
{
  "doctor_id":"099b018e-9e1b-226b-108c-39d5ae517356"
}
```

* 响应参数：
  
|        名称       |        类型       | 必须 |    说明    |
|-------------------|-------------------|------|------------|
| `available_dates` | available_dates[] | 是   | 可预约时间 |

可预约时间：available_dates

|      名称     |   类型   | 必须 |       说明       |
|---------------|----------|------|------------------|
| `date`        | string   | 是   | 可预约日期       |
| `start_times` | stirng[] | 是   | 可预约的开始时间 |


* 响应示例：

```json
{
  "available_dates":[
  {
    "date":"2017-02-15",
    "start_times":["13:00:00+0800","13:30:00+0800", "14:00:00+0800", ...]
  },
  {
    "date":"2017-02-16",
    "start_times":["13:00:00+0800","13:30:00+0800", "14:00:00+0800", ...]
  },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22612-添加医生预约订单"></a>
###### 2.2.6.1.2. 添加医生预约订单

* 接口类型：私有接口
* 路径：`doctor_order/create`
* 请求方式：`POST`
* 请求参数：

|       名称      |                         类型                        | 必须 | 默认 |     说明     |
|-----------------|-----------------------------------------------------|------|------|--------------|
| `doctor_orders` | [doctor_orders](#36-预约医生订单信息：doctororders) | 是   |      | 医生预约订单 |

* 请求示例：

```json
{
  "doctor_orders": 
  {
    "doctor_id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "reserve_data":"2017-01-15",
    "star_time":"13:00:00+0800",
    "end_time":"13:30:00+0800",
    "cost":300
  }
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 订单id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "提交预约成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `40006` | 创建的对象已存在           |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22613-医生预约订单修改"></a>
###### 2.2.6.1.3. 医生预约订单修改

* 接口类型：私有接口
* 路径：`doctor_order/update`
* 请求方式：`POST`
* 请求参数：

|       名称      |                         类型                        | 必须 | 默认 |     说明     |
|-----------------|-----------------------------------------------------|------|------|--------------|
| `doctor_orders` | [doctor_orders](#36-预约医生订单信息：doctororders) | 是   |      | 医生预约订单 |

* 请求示例：

```json
{
  "doctor_orders": 
  {
    "id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "doctor_id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "reserve_data":"2017-01-15",
    "star_time":"13:00:00+0800",
    "end_time":"13:30:00+0800",
    "cost":300,
    "order_state":1,
    "pictures":["http://xxx/xxx.jpg","http://xxx/xxx.jpg","http://xxx/xxx.jpg"],
    "illness_description":"头痛，偏头痛"
  }
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 订单id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "订单修改成功。"
}
```
* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22614-获取医生预约列表"></a>
###### 2.2.6.1.4. 获取医生预约列表 

* 接口类型：私有接口
* 路径：`doctor_order/list`
* 请求方式：`POST`
* 请求参数：

|           名称           |  类型  | 必须 |     默认     |                              说明                             |
|--------------------------|--------|------|--------------|---------------------------------------------------------------|
| `order_by`               | string | 否   | reserve_data | 排序列 [`create_time` / `reserve_data` / `cost`]              |
| `order_type`             | string | 否   | desc         | 排序方式 [`asc` / `desc`]                                     |
| `page_index`             | number | 否   | 1            | 页码（从1开始计算）                                           |
| `page_size`              | number | 否   | 3            | 每页条数                                                      |
| `filter_order_state`     | number | 否   |              | 过滤条件订单状态(0:未开始;1:进行中;2:结束未评价;3:结束已评价) |
| `filter_state_condition` | string | 否   |              | 过滤条件订单状态条件(`<`;`<=`;`>`;`>=`;`==`)                  |

* 请求示例：

```json
{
  "order_by" : "cost",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 3,
  "filter_order_state":0
}
```

* 响应参数：

|      名称     |                          类型                         | 必须 |       说明       |
|---------------|-------------------------------------------------------|------|------------------|
| `total_count` | number                                                | 是   | 总共条数         |
| `items`       | [doctor_orders](#36-预约医生订单信息：doctororders)[] | 是   | 医生预约订单列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "Id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "doctors":{
        "name": "张三",
        "department": "脑科",
        "position": "主任医师",
        "hospital": "XXXXXXXX医院",
        "photo": "http://xxxx/xxxxx/xxxx.jpg",
      },
      "order_state": 0
    ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22615-获取医生预约信息"></a>
###### 2.2.6.1.5. 获取医生预约信息 

* 接口类型：私有接口
* 路径：`doctor_order/<id>`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[doctor_orders](#36-预约医生订单信息：doctororders)
* 响应示例：

```json
{
  "Id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "order_state": 0,
  "reserve_data":"2017-01-15",
  "star_time":"13:00:00+0800",
  "end_time":"13:30:00+0800",
  "cost":300,
  "order_state":1,
  "pictures":["http://xxx/xxx.jpg","http://xxx/xxx.jpg","http://xxx/xxx.jpg"],
  "illness_description":"头痛，偏头痛",
  ...
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2262-药品订单"></a>
##### 2.2.6.2. 药品订单

<a name="22621-添加药品订单"></a>
###### 2.2.6.2.1. 添加药品订单

* 接口类型：私有接口
* 路径：`medicine_order/create`
* 请求方式：`POST`
* 请求参数：

|        名称       |                         类型                        | 必须 | 默认 |   说明   |
|-------------------|-----------------------------------------------------|------|------|----------|
| `medicine_orders` | [medicine_orders](#37-药品订单信息：medicineorders) | 是   |      | 药品订单 |

* 请求示例：

```json
{
  "medicine_orders": 
  {
    "medicine_id":"5648C3AE-E144-45EB-9A76-D0D6DF4F5598",
    "order_number":"102351257452221"
    "consignee": "李四",
    "phone": "13812457894",
    "address":"xxx市xxx区xxx号",
    "count":2,
    "message":"",
    "unit_price":300,
    "total_price":600,
    "order_state":0
  }
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 订单id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "提交订单成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22622-药品订单修改"></a>
###### 2.2.6.2.2. 药品订单修改

* 接口类型：私有接口
* 路径：`medicine_order/update`
* 请求方式：`POST`
* 请求参数：

|        名称       |                         类型                        | 必须 | 默认 |   说明   |
|-------------------|-----------------------------------------------------|------|------|----------|
| `medicine_orders` | [medicine_orders](#37-药品订单信息：medicineorders) | 是   |      | 药品订单 |

* 请求示例：

```json
{
  "medicine_orders": 
  {
    "id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "medicine_id":"5648C3AE-E144-45EB-9A76-D0D6DF4F5598",
    "order_number":"102351257452221"
    "consignee": "李四",
    "phone": "13812457894",
    "address":"xxx市xxx区xxx号",
    "count":2,
    "message":"",
    "unit_price":300,
    "total_price":600,
    "order_state":1
  }
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 订单id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "订单修改成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22623-获取药品订单列表"></a>
###### 2.2.6.2.3. 获取药品订单列表 

* 接口类型：私有接口
* 路径：`doctor_order/list`
* 请求方式：`POST`
* 请求参数：

|         名称         |  类型  | 必须 |     默认    |                  说明                  |
|----------------------|--------|------|-------------|----------------------------------------|
| `order_by`           | string | 否   | create_time | 排序列 [`create_time` / `total_price`] |
| `order_type`         | string | 否   | desc        | 排序方式 [`asc` / `desc`]              |
| `page_index`         | number | 否   | 1           | 页码（从1开始计算）                    |
| `page_size`          | number | 否   | 3           | 每页条数                               |
| `filter_order_state` | number | 否   |             | 过滤条件订单状态                       |

* 请求示例：

```json
{
  "order_by" : "create_time",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 3,
  "filter_order_state":0
}
```

* 响应参数：

|      名称     |                          类型                         | 必须 |     说明     |
|---------------|-------------------------------------------------------|------|--------------|
| `total_count` | number                                                | 是   | 总共条数     |
| `items`       | [medicine_orders](#37-药品订单信息：medicineorders)[] | 是   | 药品订单列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "medicine_id":"5648C3AE-E144-45EB-9A76-D0D6DF4F5598",
      "medicine":{
        "name": "吗丁啉",
        "picture": "http://xxxx/xxxxx/xxxx.jpg"
      },
      "order_number":"102351257452221"
      "consignee": "李四",
      "phone": "13812457894",
      "address":"xxx市xxx区xxx号",
      "count":2,
      "message":"",
      "unit_price":300,
      "total_price":600,
      "order_state":1
      ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22624-获取药品订单信息"></a>
###### 2.2.6.2.4. 获取药品订单信息 

* 接口类型：私有接口
* 路径：`doctor_order/<id>`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[medicine_orders](#37-药品订单信息：medicineorders)
* 响应示例：

```json
{
  "Id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "order_state": 0,
  "order_number":"102351257452221"
  "consignee": "李四",
  "phone": "13812457894",
  "address":"xxx市xxx区xxx号",
  "count":2,
  "message":"",
  "unit_price":300,
  "total_price":600,
  "order_state":1
  ...
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2263-体验店预约"></a>
##### 2.2.6.3. 体验店预约 

<a name="22631-添加体验店预约订单"></a>
###### 2.2.6.3.1. 添加体验店预约订单

* 接口类型：私有接口
* 路径：`club_order/create`
* 请求方式：`POST`
* 请求参数：

|      名称     |                        类型                       | 必须 | 默认 |    说明    |
|---------------|---------------------------------------------------|------|------|------------|
| `club_orders` | [club_orders](#38-预约体验店订单信息：cluborders) | 是   |      | 体验店订单 |

* 请求示例：

```json
{
  "club_order": 
  {
    "club_id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "reserve_data":"2017-01-15T00:00:00Z",
    "reserve_project":"血压测试",
    "reserve_count":3
  }
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 订单id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "提交订单成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="22623-获取体验店预约订单列表"></a>
###### 2.2.6.2.3. 获取体验店预约订单列表 

* 接口类型：私有接口
* 路径：`club_order/list`
* 请求方式：`POST`
* 请求参数：

|           名称           |  类型  | 必须 |     默认    |                         说明                         |
|--------------------------|--------|------|-------------|------------------------------------------------------|
| `order_by`               | string | 否   | create_time | 排序列 [`create_time` / `reserve_count`]             |
| `order_type`             | string | 否   | desc        | 排序方式 [`asc` / `desc`]                            |
| `page_index`             | number | 否   | 1           | 页码（从1开始计算）                                  |
| `page_size`              | number | 否   | 3           | 每页条数                                             |
| `filter_order_state`     | number | 否   |             | 过滤条件订单状态(0:未开始;1:结束未评价;2:结束已评价) |
| `filter_state_condition` | string | 否   |             | 过滤条件订单状态条件(`<`;`<=`;`>`;`>=`;`==`)         |

* 请求示例：

```json
{
  "order_by" : "create_time",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 3,
  "filter_order_state": 1
}
```

* 响应参数：

|      名称     |                         类型                        | 必须 |     说明     |
|---------------|-----------------------------------------------------|------|--------------|
| `total_count` | number                                              | 是   | 总共条数     |
| `items`       | [club_orders](#38-预约体验店订单信息：cluborders)[] | 是   | 药品订单列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
  {
    "id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "club_id":"099b018e-9e1b-226b-108c-39d5ae517356",
    "club":{
      "name": "xxxxx会所",
      "picture": "xxxx/xxxxx/xxxx.jpg",
      "address": "xxxx市xxxx区xxxx号",
      "telephone": "02512345786",
    },
    "reserve_data":"2017-01-15T00:00:00Z",
    "reserve_project":"血压测试",
    "reserve_count":3
    ...
  },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="227-用户个人中心相关接口"></a>
#### 2.2.7. 用户个人中心相关接口 	

<a name="2271-用户注册"></a>
##### 2.2.7.1. 用户注册

* 接口类型：私有接口
* 路径：`user/add`
* 请求方式：`POST`
* 请求参数：

|   名称  |             类型             | 必须 | 默认 |   说明   |
|---------|------------------------------|------|------|----------|
| `users` | [users](#39-用户信息：users) | 是   |      | 用户类型 |

* 请求示例：

```json
{
  "user_name":"13815457815",
  "password": "5547"
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 用户id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "注册成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `40006` | 创建的对象已存在           |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2272-查看用户信息"></a>
##### 2.2.7.2. 查看用户信息

* 接口类型：私有接口
* 路径：`user/`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[users](#39-用户信息：users)
* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "user_name":"13815457815",
  "password": "5547",
  "blood_pressure":"120",
  "age":45,
  "genetic_medical_history":"XXXXXXXXXXXXXXXXXXXXXX",
  ......
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2273-修改用户信息"></a>
##### 2.2.7.3. 修改用户信息

* 接口类型：私有接口
* 路径：`user/update`
* 请求方式：`POST`
* 请求参数：

|   名称  |             类型             | 必须 | 默认 |  说明  |
|---------|------------------------------|------|------|--------|
| `users` | [users](#39-用户信息：users) | 是   |      | 用户名 |

* 请求示例：

```json
{
  "user":{
    "user_name":"13815457815",
    "password": "5547",
    "blood_pressure":"120",
    "age":45,
    "genetic_medical_history":"XXXXXXXXXXXXXXXXXXXXXX",
  ......
  }
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 用户id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "用户信息修改成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2274-用户消息列表"></a>
##### 2.2.7.4. 用户消息列表

* 接口类型：私有接口
* 路径：`message/list`
* 请求方式：`POST`
* 请求参数：

|     名称     |  类型  | 必须 |     默认    |            说明           |
|--------------|--------|------|-------------|---------------------------|
| `order_by`   | string | 否   | create_time | 排序列 [`create_time`]    |
| `order_type` | string | 否   | desc        | 排序方式 [`asc` / `desc`] |
| `page_index` | number | 否   | 1           | 页码（从1开始计算）       |
| `page_size`  | number | 否   | 5           | 每页条数                  |

* 请求示例：

```json
{
  "order_by" : "create_time",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 5
}
```

* 响应参数：

|      名称     |                  类型                 | 必须 |   说明   |
|---------------|---------------------------------------|------|----------|
| `total_count` | number                                | 是   | 总共条数 |
| `items`       | [messages](#310-用户消息：messages)[] | 是   | 消息列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "title":"注册成功",
      "type": "system_notice",
      "content":"XXXXXXXXXXXXXXXXXXXX",
      "is_new":True,	
      "create_time":"2017-02-11T12:12:12Z"
      ...
    },
    ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2275-消息详情"></a>
##### 2.2.7.5. 消息详情

* 接口类型：私有接口
* 路径：`message/<id>`
* 请求方式：`GET`
* 请求参数：无
* 请求示例：无
* 响应参数：[messages](#310-用户消息：messages)
* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "title":"注册成功",
  "type": "system_notice",
  "content":"XXXXXXXXXXXXXXXXXXXX",
  "createTime":"2017-02-02T12:12:58Z"
  "is_new":True
	....
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2276-更新消息状态"></a>
##### 2.2.7.6. 更新消息状态

* 接口类型：私有接口
* 路径：`message/update_status`
* 请求方式：`POST`
* 请求参数：

|   名称   |  类型  | 必须 | 默认 |     说明     |
|----------|--------|------|------|--------------|
| `id`     | string | 是   |      | 消息id       |
| `is_new` | bool   | 否   |      | 是否是新消息 |

* 请求示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "is_new":false
}
```

* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 用户id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "用户消息状态成功。"
}
```
* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2277-获取健康履历列表"></a>
##### 2.2.7.7. 获取健康履历列表

* 接口类型：私有接口
* 路径：`health_record/list`
* 请求方式：`POST`
* 请求参数：

|     名称     |  类型  | 必须 |     默认    |            说明           |
|--------------|--------|------|-------------|---------------------------|
| `order_by`   | string | 否   | create_time | 排序列 [`create_time`]    |
| `order_type` | string | 否   | desc        | 排序方式 [`asc` / `desc`] |
| `page_index` | number | 否   | 1           | 页码（从1开始计算）       |
| `page_size`  | number | 否   | 5           | 每页条数                  |

* 请求示例：

```json
{
  "order_by" : "create_time",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 5
}
```

* 响应参数：

|      名称     |                       类型                       | 必须 |     说明     |
|---------------|--------------------------------------------------|------|--------------|
| `total_count` | number                                           | 是   | 总共条数     |
| `items`       | [health_records](#311-健康履历：healthrecords)[] | 是   | 健康履历列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "club_name": "xxxxx会所",
      "create_time": "2017-02-05 12:23:47",	
      "content":"XXXXXXXXXXXXXXXXXXXXXXXX"
      ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2278-获取诊断记录列表"></a>
##### 2.2.7.8. 获取诊断记录列表

* 接口类型：私有接口
* 路径：`diagnose_record/list`
* 请求方式：`POST`
* 请求参数：

|     名称     |  类型  | 必须 |     默认    |            说明           |
|--------------|--------|------|-------------|---------------------------|
| `order_by`   | string | 否   | create_time | 排序列 [`create_time`]    |
| `order_type` | string | 否   | desc        | 排序方式 [`asc` / `desc`] |
| `page_index` | number | 否   | 1           | 页码（从1开始计算）       |
| `page_size`  | number | 否   | 5           | 每页条数                  |

* 请求示例：

```json
{
  "order_by" : "create_time",
  "order_type" : "desc",
  "page_index" : 1,
  "page_size" : 5
}
```

* 响应参数：

|      名称     |                         类型                         | 必须 |     说明     |
|---------------|------------------------------------------------------|------|--------------|
| `total_count` | number                                               | 是   | 总共条数     |
| `items`       | [diagnose_records](#312-诊断记录：diagnoserecords)[] | 是   | 诊断记录列表 |

* 响应示例：

```json
{
  "total_count": 221,
  "items " : [
    {
      "id":"099b018e-9e1b-226b-108c-39d5ae517356",
      "doctor_nName": "张三",
      "create_time": "2017-02-05T12:23:47Z",	
      "diagnose_content":"XXXXXXXXXXXXXXXXXXXXXXXX"
    ...
    },
  ...
  ]
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40002` | 请求对象不存在             |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |

<a name="2279-意见反馈"></a>
##### 2.2.7.9. 意见反馈

* 接口类型：私有接口
* 路径：`advice/add`
* 请求方式：`POST`
* 请求参数：

|       名称       |  类型  | 必须 | 默认 |          说明         |
|------------------|--------|------|------|-----------------------|
| `advice_content` | string | 否   |      | 意见内容              |

* 请求示例：

```json
{
  "advice_content" : "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
}
```
* 响应参数：

|    名称   |  类型  | 必须 |  说明  |
|-----------|--------|------|--------|
| `id`      | string | 是   | 意见id |
| `message` | string | 是   | 消息   |

* 响应示例：

```json
{
  "id":"099b018e-9e1b-226b-108c-39d5ae517356",
  "message": "用户意见提交成功。"
}
```

* 错误：

| 状态码 | 错误码  |            说明            |
|--------|---------|----------------------------|
| `200`  | `40001` | `access_token`无效         |
| `200`  | `40003` | 数据创建或修改失败         |
| `200`  | `40005` | 用户名密码验证错误         |
| `200`  | `41000` | 请求的应用级输入参数错误   |
| `200`  | `50000` | 请求处理的业务逻辑发生错误 |


<a name="3-类型字段说明"></a>
## 3. 类型字段说明
<a name="31-医生信息：doctors"></a>
### 3.1. 医生信息：doctors 

|     名称    |   类型   |                     说明                    |
|-------------|----------|---------------------------------------------|
| id          | string   | 医生id                                      |
| name        | string   | 医生姓名                                    |
| department  | string   | 科室                                        |
| position    | string   | 职务                                        |
| hospital    | string   | 所属医院                                    |
| photo       | string   | 照片                                        |
| introduce   | string   | 医生介绍                                    |
| cost        | double   | 问诊费用                                    |
| category    | string   | 医生类别(inland:国内专家;overseas:海外名医) |
| tags        | string[] | 标签                                        |
| create_time | datetime | 创建时间(datetime类型)                      |

<a name="32-用户评价：appraise"></a>
### 3.2. 用户评价：appraise

|      名称     |  类型  |              说明             |
|---------------|--------|-------------------------------|
| id            | string | 评价id                        |
| user_name     | string | 用户名                        |
| appraise_time | string | 评价时间(datetime类型)        |
| content       | string | 内容                          |
| satisfaction  | int    | 满意度                        |
| category      | string | 类别(doctor:医生;club:体验店) |

<a name="33-药品信息：medicines"></a>
### 3.3. 药品信息：medicines

|      名称      |   类型   |          说明          |
|----------------|----------|------------------------|
| id             | string   | 药品id                 |
| name           | string   | 药品名称               |
| dispatch_place | string   | 原产地                 |
| price          | string   | 价格                   |
| picture        | double   | 图片                   |
| description    | string   | 说明                   |
| details        | string   | 药品详情               |
| telephone      | string   | 电话                   |
| create_time    | datetime | 创建时间(datetime类型) |

<a name="34-医院信息：hospitals"></a>
### 3.4. 医院信息：hospitals

|     名称    |   类型   |                     说明                     |
|-------------|----------|----------------------------------------------|
| id          | string   | 医院id                                       |
| name        | string   | 医院名称                                     |
| route       | string   | 行程                                         |
| notice      | string   | 用户须知                                     |
| picture     | double   | 图片                                         |
| telephone   | string   | 电话                                         |
| category    | string   | 类别(cure:治疗;experience:体验;prevent:预防) |
| create_time | datetime | 创建时间(datetime类型)                       |
| user_id     | string   | 医疗顾问id                                   |
| user_name   | string   | 医疗顾问用户名                               |

<a name="35-体验店信息：clubs"></a>
### 3.5. 体验店信息：clubs

|     名称    |   类型   |          说明          |
|-------------|----------|------------------------|
| id          | string   | 体验店id               |
| name        | string   | 体验店名称             |
| address     | string   | 地址                   |
| picture     | double   | 图片                   |
| telephone   | string   | 电话                   |
| service     | string   | 服务                   |
| project     | string[] | 项目                   |
| longitude   | number   | 经度                   |
| latitude    | number   | 纬度                   |
| create_time | datetime | 创建时间(datetime类型) |

<a name="36-预约医生订单信息：doctororders"></a>
### 3.6. 预约医生订单信息：doctor_orders

|               名称               |   类型   |                          说明                         |
|----------------------------------|----------|-------------------------------------------------------|
| id                               | string   | 体验店id                                              |
| user_id                          | string   | 用户id                                                |
| doctor_id                        | string   | 医生id                                                |
| [doctors](#31-医生信息：doctors) | doctors  | 医生类型                                              |
| reserve_data                     | string   | 预约时间(date类型)                                    |
| star_time                        | string   | 开始时间(time类型)                                    |
| end_time                         | string   | 结束时间(time类型)                                    |
| cost                             | number   | 费用                                                  |
| order_state                      | int      | 订单状态(0:未开始;1:进行中;2:结束未评价;3:结束已评价) |
| pictures                         | string   | 补充图片                                              |
| illness_description              | string   | 病情描述                                              |
| create_time                      | datetime | 创建时间(datetime类型)                                |

<a name="37-药品订单信息：medicineorders"></a>
### 3.7. 药品订单信息：medicine_orders

|                 名称                 |    类型   |          说明          |
|--------------------------------------|-----------|------------------------|
| id                                   | string    | 体验店id               |
| order_number                         | string    | 订单编号               |
| user_id                              | string    | 用户id                 |
| medicine_id                          | string    | 药品id                 |
| [medicines](#33-药品信息：medicines) | medicines | 药品类型               |
| consignee                            | string    | 收货人                 |
| phone                                | string    | 联系方式               |
| address                              | string    | 收货地址               |
| count                                | number    | 数量                   |
| message                              | string    | 留言                   |
| unit_price                           | number    | 单价                   |
| total_price                          | string    | 总价                   |
| order_state                          | int       | 订单状态(未确定)       |
| create_time                          | datetime  | 创建时间(datetime类型) |

<a name="38-预约体验店订单信息：cluborders"></a>
### 3.8. 预约体验店订单信息：club_orders

|              名称              |   类型   |                     说明                     |
|--------------------------------|----------|----------------------------------------------|
| id                             | string   | 体验店id                                     |
| user_id                        | string   | 用户id                                       |
| club_id                        | string   | 体验店id                                     |
| [clubs](#35-体验店信息：clubs) | clubs    | 体验店类型                                   |
| reserve_data                   | datetime | 预约日期                                     |
| reserve_project                | string   | 预约项目                                     |
| reserve_count                  | string   | 预约人数                                     |
| order_state                    | int      | 订单状态(0:未开始;1:结束未评价;2:结束已评价) |
| create_time                    | datetime | 创建时间(datetime类型)                       |

<a name="39-用户信息：users"></a>
### 3.9. 用户信息：users

|           名称          |   类型   |          说明          |
|-------------------------|----------|------------------------|
| id                      | string   | 用户id                 |
| user_name               | string   | 用户名                 |
| password                | string   | 密码                   |
| name                    | string   | 姓名                   |
| gender                  | string   | 性别                   |
| blood_type              | string   | 血型                   |
| stature                 | string   | 身高                   |
| blood_pressure          | string   | 血压                   |
| age                     | int      | 年龄                   |
| genetic_medical_history | string   | 遗传病史               |
| illness_history         | string   | 病史                   |
| create_time             | datetime | 创建时间(datetime类型) |

<a name="310-用户消息：messages"></a>
### 3.10. 用户消息：messages

|     名称    |   类型   |          说明          |
|-------------|----------|------------------------|
| id          | string   | 消息id                 |
| user_id     | string   | 用户id                 |
| title       | string   | 标题                   |
| type        | string   | 消息类型               |
| content     | string   | 内容                   |
| is_new      | bool     | 是否是新消息           |
| create_time | datetime | 创建时间(datetime类型) |

<a name="311-健康履历：healthrecords"></a>
### 3.11. 健康履历：health_records

|     名称    |   类型   |          说明          |
|-------------|----------|------------------------|
| id          | string   | 消息id                 |
| order_id    | string   | 体验店预约订单id       |
| club_name   | string   | 体验店名称             |
| content     | string   | 诊断结果内容           |
| create_time | datetime | 创建时间(datetime类型) |

<a name="312-诊断记录：diagnoserecords"></a>
### 3.12. 诊断记录：diagnose_records

|       名称       |   类型   |          说明          |
|------------------|----------|------------------------|
| id               | string   | 消息id                 |
| order_id         | string   | 医生预约订单id         |
| doctor_name      | string   | 医生名称               |
| diagnose_content | string   | 诊断结果内容           |
| create_time      | datetime | 创建时间(datetime类型) |

<a name="313-科室列表：departments"></a>
### 3.13. 科室列表：departments

|     名称    |   类型   |          说明          |
|-------------|----------|------------------------|
| id          | string   | 科室id                 |
| name        | string   | 科室名称               |
| create_time | datetime | 创建时间(datetime类型) |
